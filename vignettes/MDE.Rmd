---
title: "Doing Spreading-Dye MDE Simulations With The MDE Package"
author: "W. Andrew Barr"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
bibliography: 
vignette: >
  %\VignetteIndexEntry{Doing Spreading-Dye MDE Simulations With The MDE Package}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

## Make a simple domain

The `MakeWorld()` function is very simple and is not designed for serious use.  The purpose is merely to have a way to create a toy domain raster to get started quickly. 

```{r message=FALSE, warning=FALSE}
library(raster)
library(MDE)
world <- MakeWorld(10,10)
plot(world)
```

## Grow a range

This is the workhorse function of the package, which grows a taxon range of a specified size (# of pixels) within the domain raster.  The range grows by the spreading-dye model: a random pixel is chosen, and the range expands to a neighboring pixel incrementally until the target range size is reached. Rook's case adjacency is used, meaning that cells are only considered neighbors if they share an edge (i.e. each pixel has only 4 neighbors)

```{r fig.show='hold'}
GrowRange(world, targetRangeSize = 15, showPlot = TRUE)
GrowRange(world, targetRangeSize = 80, showPlot = TRUE)
```


## Do an MDE simulation

To do an actual MDE simulation, we need to simulate multiple ranges, and see how they accumulate.  

```{r fig.height=6, fig.width=6}
MDE(world, targetRangeSizes = c(50,20,30,55,22,17,19,58,10),showPlot = TRUE)
```
